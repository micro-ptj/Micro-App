import{_ as a,U as e,V as s,f as t,W as o,j as r,k as l,o as u,c as n,w as d,a as c,b as p,H as m,i,d as f,r as v,D as _,L as g,F as h,X as w,e as b,P as y}from"./index.c7325688.js";import{_ as k,a as V,b as j}from"./u-form.6c4e364f.js";import{_ as C}from"./u-button.b6716ee3.js";var x=a({data:()=>({avatar:"https://cdn.uviewui.com/uview/common/logo.png"}),created(){e("uAvatarCropper",(a=>{this.avatar=a,s({url:t.base_url+"upload-platform",filePath:a,name:"file",complete:a=>{o({key:"avatar",data:JSON.parse(a.data).url,success:function(){console.log("success")}})}})}))},methods:{chooseAvatar(){this.$u.route({url:"/uni_modules/vk-uview-ui/components/u-avatar-cropper/u-avatar-cropper",params:{destWidth:300,rectWidth:200,fileType:"jpg"}})}}},[["render",function(a,e,s,t,o,f){const v=m,_=i,g=r(l("u-button"),C);return u(),n(_,{class:"wrap"},{default:d((()=>[c(_,{class:"u-avatar-wrap"},{default:d((()=>[c(v,{class:"u-avatar-demo",src:o.avatar,mode:"aspectFill"},null,8,["src"])])),_:1}),c(g,{onClick:f.chooseAvatar},{default:d((()=>[p("选择头像")])),_:1},8,["onClick"])])),_:1})}],["__scopeId","data-v-4b145d21"]]);var T=a(f({__name:"register",setup(a){const e=v({username:"",password:"",avatar:""}),s=()=>{null==e.username||e.password.length<=5?console.log("请输入正确的账号与密码"):(w({key:"avatar",success:function(a){e.avatar=a.data}}),console.log(e),b({url:t.base_url+"register",method:"POST",data:{username:e.username,avatar:e.avatar,password:e.password},header:{"Content-Type":"application/json"},success:a=>{200===a.data.code?setTimeout((()=>{y({url:"/pages/login/login"})}),1e3):console.log(a.data.msg)}}))};return(a,t)=>{const o=i,n=r(l("u-input"),k),m=r(l("u-form-item"),V),f=r(l("u-form"),j),v=r(l("u-button"),C);return u(),_(h,null,[c(o,{class:"login-title"},{default:d((()=>[p("基于区块链的拍卖平台")])),_:1}),c(g(x)),c(f,{model:e,ref:"uForm",style:{margin:"10rpx"}},{default:d((()=>[c(m,null,{default:d((()=>[c(n,{modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=a=>e.username=a),placeholder:"请输入账号"},null,8,["modelValue"])])),_:1}),c(m,null,{default:d((()=>[c(n,{type:"password",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=a=>e.password=a),placeholder:"请输入密码"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),c(v,{type:"primary",onClick:s,style:{margin:"10rpx"}},{default:d((()=>[p("注册")])),_:1})],64)}}}),[["__scopeId","data-v-7dc5581b"]]);export{T as default};
