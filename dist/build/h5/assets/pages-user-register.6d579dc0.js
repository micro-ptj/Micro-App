import{_ as a,Y as e,Z as s,f as t,a0 as o,j as r,k as l,o as u,c as d,w as n,a as p,b as c,N as m,i,d as f,r as v,J as _,Q as g,L as h,a1 as w,e as b,n as y}from"./index.be2b8ad1.js";import{_ as k,a as j,b as V}from"./u-form.a385da59.js";import{_ as C}from"./u-button.093b3d77.js";var x=a({data:()=>({avatar:"https://cdn.uviewui.com/uview/common/logo.png"}),created(){e("uAvatarCropper",(a=>{this.avatar=a,s({url:t.base_url+"upload-platform",filePath:a,name:"file",complete:a=>{o({key:"avatar",data:JSON.parse(a.data).url,success:function(){console.log("success")}})}})}))},methods:{chooseAvatar(){this.$u.route({url:"/uni_modules/vk-uview-ui/components/u-avatar-cropper/u-avatar-cropper",params:{destWidth:300,rectWidth:200,fileType:"jpg"}})}}},[["render",function(a,e,s,t,o,f){const v=m,_=i,g=r(l("u-button"),C);return u(),d(_,{class:"wrap"},{default:n((()=>[p(_,{class:"u-avatar-wrap"},{default:n((()=>[p(v,{class:"u-avatar-demo",src:o.avatar,mode:"aspectFill"},null,8,["src"])])),_:1}),p(g,{onClick:f.chooseAvatar},{default:n((()=>[c("选择头像")])),_:1},8,["onClick"])])),_:1})}],["__scopeId","data-v-4b145d21"]]);var T=a(f({__name:"register",setup(a){const e=v({username:"",password:"",avatar:""}),s=()=>{null==e.username||e.password.length<=5?console.log("请输入用户名与密码"):(w({key:"avatar",success:function(a){e.avatar=a.data}}),console.log(e),b({url:t.base_url+"register",method:"POST",data:{username:e.username,avatar:e.avatar,password:e.password},header:{"Content-Type":"application/json"},success:a=>{200===a.data.code?setTimeout((()=>{y({url:"/pages/login/login"})}),1e3):console.log(a.data.msg)}}))};return(a,t)=>{const o=i,d=r(l("u-input"),k),m=r(l("u-form-item"),j),f=r(l("u-form"),V),v=r(l("u-button"),C);return u(),_(h,null,[p(o,{class:"login-title"},{default:n((()=>[c("基于区块链的拍卖平台")])),_:1}),p(g(x)),p(f,{model:e,ref:"uForm",style:{margin:"10rpx"}},{default:n((()=>[p(m,null,{default:n((()=>[p(d,{modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=a=>e.username=a),placeholder:"请输入电话号码"},null,8,["modelValue"])])),_:1}),p(m,null,{default:n((()=>[p(d,{type:"password",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=a=>e.password=a),placeholder:"请输入密码"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),p(v,{type:"primary",onClick:s,style:{margin:"10rpx"}},{default:n((()=>[c("注册")])),_:1})],64)}}}),[["__scopeId","data-v-12273d22"]]);export{T as default};
