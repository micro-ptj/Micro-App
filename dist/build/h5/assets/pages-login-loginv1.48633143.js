import{_ as e,d as a,r as o,D as l,o as t,c as s,w as n,a as d,b as u,y as c,e as p,f as r,s as m,g as i,h as f,n as _,i as h,j as g,k as y,l as b,m as k}from"./index.d4fd57a9.js";import{_ as j,a as T,b as V}from"./u-form.d85f7ae7.js";import{_ as v}from"./u-button.68d3804d.js";var x=e(a({__name:"loginv1",setup(e){const a=o({phone:"",password:"",code:""}),x=l("获取验证码"),C=()=>{null!=a.phone&&p({url:r.base_url+"/app/code",method:"GET",data:{phone:a.phone,type:"login"},header:{"Content-Type":"application/json"},success:e=>{200===e.data.code?(console.log("获取成功"),x.value="重新获取"):console.log(e.data.msg)}})},w=()=>{null==a.phone?console.log("请输入正确的手机号"):(console.log(a),p({url:r.base_url+"/app/login",method:"POST",data:{phone:a.phone,code:a.code},header:{"Content-Type":"application/json"},success:e=>{200===e.data.code?(console.log(e.data.data.token),m("token",e.data.data.token),setTimeout((()=>{null!=i("token")&&f({url:"/pages/product/product"})}),1e3)):console.log(e.data.msg)}}))},S=()=>{_({url:"/pages/login/login"})};return(e,o)=>{const l=h,p=g(y("u-input"),j),r=g(y("u-form-item"),T),m=g(y("u-button"),v),i=g(y("u-form"),V),f=g(y("u-col"),b),_=g(y("u-row"),k);return t(),s(l,{class:"content"},{default:n((()=>[d(l,{class:"login"},{default:n((()=>[d(l,{class:"title_1"},{default:n((()=>[u("区 块 链 ！")])),_:1}),d(l,{class:"title_2"},{default:n((()=>[u("Welcome To Micro")])),_:1}),d(i,{model:a,class:"form",ref:"uForm"},{default:n((()=>[d(r,{"left-icon":"account"},{default:n((()=>[d(p,{modelValue:a.phone,"onUpdate:modelValue":o[0]||(o[0]=e=>a.phone=e),type:"number",placeholder:"请输入号码",maxlength:"11",placeholderStyle:"color: #787878",class:"form-input"},null,8,["modelValue"])])),_:1}),d(r,{"left-icon":"chat"},{default:n((()=>[d(p,{modelValue:a.code,"onUpdate:modelValue":o[1]||(o[1]=e=>a.code=e),type:"number",placeholder:"请输入验证码",placeholderStyle:"color: #787878",maxlength:"4",class:"form-input"},null,8,["modelValue"]),d(m,{slot:"right",type:"success",size:"mini",onClick:C},{default:n((()=>[u(c(x.value),1)])),_:1})])),_:1})])),_:1},8,["model"]),d(m,{onClick:w,shape:"circle",class:"submit",type:"primary"},{default:n((()=>[u("登录")])),_:1}),d(_,{style:{"margin-top":"50rpx"}},{default:n((()=>[d(f,{span:4},{default:n((()=>[d(l,null,{default:n((()=>[u("新用户注册")])),_:1})])),_:1}),d(f,{span:4,offset:"4"},{default:n((()=>[d(l,{onClick:S},{default:n((()=>[u("密码登录")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-844d5ce2"]]);export{x as default};
